{"version":3,"sources":["scripts/main.js"],"names":["tableHead","document","querySelector","children","converter","element","slice","split","join","addEventListener","e","tableBody","arrayOfPeople","data","forEach","person","push","name","innerText","position","office","age","salary","target","sortCount","sortCondition","toLowerCase","sortOrder","sort","p1","p2","Number","localeCompare","innerHTML","insertAdjacentHTML","toLocaleString","prevRow","tagName","parentNode","classList","add","remove","table","form","formButton","formName","formPosition","formAge","formOffice","formSalary","value","length","pushNotification","preventDefault","title","description","type","body","error","createElement","dataset","qa","style","top","right","append","setTimeout","cell","input","defaultCell","width","getComputedStyle","cellIndex","firstChild","removeChild","appendChild","focus","String","createTextNode","e1","key","blur"],"mappings":";AAAA,aA6TA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAzTA,IAAMA,EAAYC,SAASC,cAAc,SAASC,SAAS,GAE3D,SAASC,EAAUC,GACV,OAACA,EAAQC,MAAM,GAAGC,MAAM,KAAKC,KAAK,IAG3CR,EAAUS,iBAAiB,QAAS,SAAAC,GAC5BC,IAAAA,EAAYV,SAASC,cAAc,SACnCU,EAAoBD,EAAAA,EAAUR,UAC9BU,EAAO,GAEbD,EAAcE,QAAQ,SAAAC,GACpBF,EAAKG,KAAK,CACRC,KAAMF,EAAOZ,SAAS,GAAGe,UACzBC,SAAUJ,EAAOZ,SAAS,GAAGe,UAC7BE,OAAQL,EAAOZ,SAAS,GAAGe,UAC3BG,IAAKN,EAAOZ,SAAS,GAAGe,UACxBI,OAAQlB,EAAUW,EAAOZ,SAAS,GAAGe,eAIpCR,EAAEa,OAAOC,YACZd,EAAEa,OAAOC,UAAY,GAGjBC,IAAAA,EAAgBf,EAAEa,OAAOL,UAAUQ,cACnCC,EAAYjB,EAAEa,OAAOC,UAAY,GAAM,EAAI,aAAe,YAEhEX,EAAKe,KAAK,SAACC,EAAIC,GACTC,OAAAA,OAAOF,EAAMJ,GAAAA,OAAAA,KACRI,EAAMJ,GAAAA,OAAAA,IAAmBK,EAAML,GAAAA,OAAAA,IAGjCI,EAAMJ,GAAAA,OAAAA,IAAiBO,cAAcF,EAAML,GAAAA,OAAAA,OAGpDd,EAAUsB,UAAY,GACtBvB,EAAEa,OAAOC,YAETX,EAAKC,QAAQ,SAAAC,GACXJ,EAAUuB,mBAAsBP,GAAAA,OAAAA,GAExBZ,yBAAAA,OAAAA,EAAOE,KACPF,qBAAAA,OAAAA,EAAOI,SACPJ,qBAAAA,OAAAA,EAAOK,OACPL,qBAAAA,OAAAA,EAAOM,IACNN,sBAAAA,OAAAA,EAAOO,OAAOa,eAAe,SANtC,6BAgBJ,IAAIC,GAAU,EAEdnC,SAASC,cAAc,SAASO,iBAAiB,QAAS,SAAAC,GAC/B,OAArBA,EAAEa,OAAOc,UAIb3B,EAAEa,OAAOe,WAAWC,UAAUC,IAAI,UAE9BJ,GAAWA,IAAY1B,EAAEa,OAAOe,YAClCF,EAAQG,UAAUE,OAAO,UAG3BL,EAAU1B,EAAEa,OAAOe,cAOrB,IAAMI,EAAQzC,SAASC,cAAc,SAErCwC,EAAMR,mBAAmB,WAAzB,82BA4BA,IAAMS,EAAO1C,SAASC,cAAc,sBAC9B0C,EAAaD,EAAKzC,cAAc,UAChC2C,EAAWF,EAAKzC,cAAc,oBAC9B4C,EAAeH,EAAKzC,cAAc,wBAClC6C,EAAUJ,EAAKzC,cAAc,mBAC7B8C,EAAaL,EAAKzC,cAAc,sBAChC+C,EAAaN,EAAKzC,cAAc,sBAEtC0C,EAAWnC,iBAAiB,QAAS,SAAAC,GAC/BmC,EAASK,MAAMC,OAAS,EAC1BC,EAGE,2BAAA,+CAAA,SAMAN,EAAaI,MAAMC,OAAS,EAC9BC,EAGE,6BAAA,uDAAA,SAMAL,EAAQG,MAAQ,IAAMH,EAAQG,MAAQ,GACxCE,EAGE,0BAAA,kDAAA,SAMAH,EAAWC,MAAQ,EACrBE,EAGE,0CAAA,6CAAA,UAMJnD,SAASC,cAAc,SAASgC,mBAAmB,YAE3CW,qBAAAA,OAAAA,EAASK,MACTJ,mBAAAA,OAAAA,EAAaI,MACbF,mBAAAA,OAAAA,EAAWE,MACXH,mBAAAA,OAAAA,EAAQG,MACPD,oBAAAA,OAAAA,EAAWC,MAAMf,eAAe,SANzC,uBASAzB,EAAE2C,iBAEFD,EAGE,uBAAA,qCAAA,cAQJ,IAAMA,EAAmB,SAACE,EAAOC,EAAaC,GACtCC,IAAAA,EAAOxD,SAASC,cAAc,QAC9BwD,EAAQzD,SAAS0D,cAAc,OAErCD,EAAME,QAAQC,GAAK,eACnBH,EAAMnB,UAAUC,IAAI,eAAmBgB,GAAAA,OAAAA,IACvCE,EAAMI,MAAMC,IAAZ,OACAL,EAAMI,MAAME,MAAZ,OAEAN,EAAMxB,mBAAmB,YAEnBoB,mCAAAA,OAAAA,EAGAC,gCAAAA,OAAAA,EALN,mBASAE,EAAKQ,OAAOP,GAEZQ,WACE,WAAMR,OAAAA,EAAMjB,UACZ,MAOJxC,SAASC,cAAc,SAASO,iBAAiB,WAAY,SAAAC,GACrDyD,IAAAA,EAAOzD,EAAEa,OAEX4C,GAAiB,OAAjBA,EAAK9B,QAAkB,CACrB+B,IAAAA,EAAQnE,SAAS0D,cAAc,SAC7BU,EAAcF,EAAKjD,UAEzBkD,EAAMZ,KAAO,OACbY,EAAMN,MAAMQ,MAAQC,iBAAiBJ,GAAMG,MAEpB,IAAnBH,EAAKK,WAAsC,IAAnBL,EAAKK,UAC/BJ,EAAMZ,KAAO,SACe,IAAnBW,EAAKK,YACdJ,EAAQnE,SAAS0D,cAAc,WAEzBzB,mBAAmB,aAAzB,wUAUFkC,EAAM7B,UAAUC,IAAI,cAEhB2B,EAAKM,YACPN,EAAKO,YAAYP,EAAKM,YAGxBN,EAAKQ,YAAYP,GACjBA,EAAMQ,QAENR,EAAM3D,iBAAiB,OAAQ,WAErBoE,OAAAA,OAAOV,EAAKK,YACb,IAAA,IACCJ,EAAMlB,MAAMC,OAAS,IACvBC,EAGE,2BAAA,+CAAA,SAEFgB,EAAMlB,MAAQmB,GAEhB,MAEG,IAAA,IACCD,EAAMlB,MAAMC,OAAS,IACvBC,EAGE,6BAAA,iDAAA,SAEFgB,EAAMlB,MAAQmB,GAEhB,MAEG,IAAA,IACH,MAEG,IAAA,KACCD,EAAMlB,MAAQ,IAAMkB,EAAMlB,MAAQ,MACpCE,EAGE,0BAAA,kDAAA,SAEFgB,EAAMlB,MAAQmB,GAEhB,MAEG,IAAA,IACCD,EAAMlB,MAAQ,GAChBE,EAGE,0CAAA,6CAAA,SAEFe,EAAKjD,UAAYmD,GAEjBF,EAAKjD,UAAgBkD,IAAAA,OAAAA,EAAMlB,MAAMf,eAAe,UAElD,MAEF,QACEiB,EAGE,oBAAA,mDAAA,SAKNe,EAAKO,YAAYN,GACjBD,EAAKQ,YAAY1E,SAAS6E,eAAeV,EAAMlB,UAGjDkB,EAAM3D,iBAAiB,UAAW,SAACsE,GAClB,UAAXA,EAAGC,KACLZ,EAAMa","file":"main.ac1d4866.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// #region 1. Sorting by clicking on the title (in two directions)\n\nconst tableHead = document.querySelector('thead').children[0];\n\nfunction converter(element) {\n  return +element.slice(1).split(',').join('');\n}\n\ntableHead.addEventListener('click', e => {\n  const tableBody = document.querySelector('tbody');\n  const arrayOfPeople = [...tableBody.children];\n  const data = [];\n\n  arrayOfPeople.forEach(person => {\n    data.push({\n      name: person.children[0].innerText,\n      position: person.children[1].innerText,\n      office: person.children[2].innerText,\n      age: person.children[3].innerText,\n      salary: converter(person.children[4].innerText),\n    });\n  });\n\n  if (!e.target.sortCount) {\n    e.target.sortCount = 1;\n  }\n\n  const sortCondition = e.target.innerText.toLowerCase();\n  const sortOrder = e.target.sortCount % 2 === 0 ? 'afterbegin' : 'beforeend';\n\n  data.sort((p1, p2) => {\n    if (Number(p1[`${sortCondition}`])) {\n      return p1[`${sortCondition}`] - p2[`${sortCondition}`];\n    }\n\n    return p1[`${sortCondition}`].localeCompare(p2[`${sortCondition}`]);\n  });\n\n  tableBody.innerHTML = '';\n  e.target.sortCount++;\n\n  data.forEach(person => {\n    tableBody.insertAdjacentHTML(`${sortOrder}`, `\n    <tr>\n      <td>${person.name}</td>\n      <td>${person.position}</td>\n      <td>${person.office}</td>\n      <td>${person.age}</td>\n      <td>$${person.salary.toLocaleString('en-US')}</td>\n    </tr>\n  `);\n  });\n});\n\n// #endregion\n\n// #region 2. Selecting the row\n\nlet prevRow = false;\n\ndocument.querySelector('tbody').addEventListener('click', e => {\n  if (e.target.tagName !== 'TD') {\n    return;\n  }\n\n  e.target.parentNode.classList.add('active');\n\n  if (prevRow && prevRow !== e.target.parentNode) {\n    prevRow.classList.remove('active');\n  }\n\n  prevRow = e.target.parentNode;\n});\n\n// #endregion\n\n// #region 3. Additional form\n\nconst table = document.querySelector('table');\n\ntable.insertAdjacentHTML('afterend', `\n<form class=\"new-employee-form\" action=\"get\">\n  <label>Name: \n    <input name=\"name\" type=\"text\" data-qa=\"name\" required>\n  </label>\n  <label>Position: \n    <input name=\"position\" type=\"text\" data-qa=\"position\" required>\n  </label>\n  <label>Office:\n    <select name=\"office\" data-qa=\"office\" required>\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    </select>\n  </label>\n  <label>Age: \n    <input name=\"age\" type=\"number\" data-qa=\"age\" required>\n  </label>\n  <label>Salary: \n    <input name=\"Salary\" type=\"number\" data-qa=\"salary\" required>\n  </label>\n  <button>Save to table</button>\n</form>\n`);\n\nconst form = document.querySelector('.new-employee-form');\nconst formButton = form.querySelector('button');\nconst formName = form.querySelector('[data-qa=\"name\"]');\nconst formPosition = form.querySelector('[data-qa=\"position\"]');\nconst formAge = form.querySelector('[data-qa=\"age\"]');\nconst formOffice = form.querySelector('[data-qa=\"office\"]');\nconst formSalary = form.querySelector('[data-qa=\"salary\"]');\n\nformButton.addEventListener('click', e => {\n  if (formName.value.length < 4) {\n    pushNotification(\n      `Ім'я введено не коректно`,\n      `Ім'я повинно складатися мінімум з 4 символів`,\n      'error'\n    );\n\n    return;\n  }\n\n  if (formPosition.value.length < 3) {\n    pushNotification(\n      `Посаду введено не коректно`,\n      `Назва посади повинна складатися мінімум з 4 символів`,\n      'error'\n    );\n\n    return;\n  }\n\n  if (formAge.value < 18 || formAge.value > 90) {\n    pushNotification(\n      `Вік введено не коректно`,\n      `Вік працівника повинен бути в межаж 18-90 років`,\n      'error'\n    );\n\n    return;\n  }\n\n  if (formSalary.value < 1) {\n    pushNotification(\n      `Зарплату працівника введено не коректно`,\n      `Сума зарплати повинна становити мінімум 1$`,\n      'error'\n    );\n\n    return;\n  }\n\n  document.querySelector('tbody').insertAdjacentHTML('beforeend', `\n  <tr>\n    <td>${formName.value}</td>\n    <td>${formPosition.value}</td>\n    <td>${formOffice.value}</td>\n    <td>${formAge.value}</td>\n    <td>$${formSalary.value.toLocaleString('en-US')}</td>\n  </tr>\n  `);\n  e.preventDefault();\n\n  pushNotification(\n    `Дію виконано успішно`,\n    `Працівник був добавлений в таблицю`,\n    'success'\n  );\n});\n\n// #endregion\n\n// #region 4. Notification\n\nconst pushNotification = (title, description, type) => {\n  const body = document.querySelector('body');\n  const error = document.createElement('div');\n\n  error.dataset.qa = 'notification';\n  error.classList.add('notification', `${type}`);\n  error.style.top = `10px`;\n  error.style.right = `10px`;\n\n  error.insertAdjacentHTML('beforeend', `\n    <h2 class=\"title\">\n      ${title}\n    </h2>\n    <p>\n      ${description}\n    </p>\n  `);\n\n  body.append(error);\n\n  setTimeout(\n    () => error.remove(),\n    4000);\n};\n\n// #endregion\n\n// #region 5. Editing of table cells by double-clicking on it\n\ndocument.querySelector('table').addEventListener('dblclick', e => {\n  const cell = e.target;\n\n  if (cell.tagName === 'TD') {\n    let input = document.createElement('input');\n    const defaultCell = cell.innerText;\n\n    input.type = 'text';\n    input.style.width = getComputedStyle(cell).width;\n\n    if (cell.cellIndex === 3 || cell.cellIndex === 4) {\n      input.type = 'number';\n    } else if (cell.cellIndex === 2) {\n      input = document.createElement('select');\n\n      input.insertAdjacentHTML('afterbegin', `\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      `);\n    }\n\n    input.classList.add('cell-input');\n\n    if (cell.firstChild) {\n      cell.removeChild(cell.firstChild);\n    }\n\n    cell.appendChild(input);\n    input.focus();\n\n    input.addEventListener('blur', () => {\n      // #region Validation\n      switch (String(cell.cellIndex)) {\n        case '0':\n          if (input.value.length < 4) {\n            pushNotification(\n              `Ім'я введено не коректно`,\n              `Ім'я повинно складатися мінімум з 4 символів`,\n              'error'\n            );\n            input.value = defaultCell;\n          }\n          break;\n\n        case '1':\n          if (input.value.length < 3) {\n            pushNotification(\n              `Посаду введено не коректно`,\n              `Назва посади повинна містити мінімум 3 символи`,\n              'error'\n            );\n            input.value = defaultCell;\n          }\n          break;\n\n        case '2':\n          break;\n\n        case '3':\n          if (input.value < 18 || input.value > 90) {\n            pushNotification(\n              `Вік введено не коректно`,\n              `Вік працівника повинен бути в межаж 18-90 років`,\n              'error'\n            );\n            input.value = defaultCell;\n          }\n          break;\n\n        case '4':\n          if (input.value < 1) {\n            pushNotification(\n              `Зарплату працівника введено не коректно`,\n              `Сума зарплати повинна становити мінімум 1$`,\n              'error'\n            );\n            cell.innerText = defaultCell;\n          } else {\n            cell.innerText = `$${input.value.toLocaleString('en-US')}`;\n          }\n          break;\n\n        default:\n          pushNotification(\n            `Невідома помилка!`,\n            `Будь ласка перевірте правильність введених даних`,\n            'error'\n          );\n      }\n      // #endregion\n\n      cell.removeChild(input);\n      cell.appendChild(document.createTextNode(input.value));\n    });\n\n    input.addEventListener('keydown', (e1) => {\n      if (e1.key === 'Enter') {\n        input.blur();\n      }\n    });\n  }\n});\n\n// #endregion\n"]}